<<<<<<< HEAD
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".results") %>%
html_text2()
all_prices[[i]] <- data
}
all_prices %>%
str_remove_all(all_prices, "[^0-9]") |>  # Remove non-numeric characters
str_remove_all("Monthly Payment: $") |>
str_remove_all("$")
all_prices <- lapply(all_prices, function(x) x[grepl("^\\$\\d{1,3},\\d{3}$", x)])
prices <- unlist(all_prices)
prices
all_colors <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".car-info :nth-child(1)") %>%
html_text2()
data <- str_remove_all(data, "\\d{4}")
all_colors[[i]] <- data
}
library(stringr)
library(tidyverse)
library(rvest)
num_pages <- 20
url <- "https://www.honeycarsmart.com/index.php/full-inventory"
html <- read_html(url)
all_prices <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".results") %>%
html_text2()
all_prices[[i]] <- data
}
all_prices %>%
str_remove_all(all_prices, "[^0-9]") |>  # Remove non-numeric characters
str_remove_all("Monthly Payment: ") |>
str_remove_all("//$")
all_prices
unlist(all_prices)
all_prices <- lapply(all_prices, function(x) x[grepl("^\\$\\d{1,3},\\d{3}$", x)])
prices <- unlist(all_prices)
prices
as.integer()
as.integer(prices)
library(tidyverse)
library(stringr)
library(rvest)
url <- "https://www.honeycarsmart.com/index.php/full-inventory"
html <- read_html(url)
num_pages <- 20
all_prices <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".results") %>%
html_text2()
all_prices[[i]] <- data
}
all_prices <- lapply(all_prices, function(x) x[grepl("^\\$\\d{1,3},\\d{3}$", x)])
prices <- unlist(all_prices)
prices
prices <-
str_remove_all(prices, "[^0-9]") |>  # Remove non-numeric characters
as.integer()
prices
all_brands <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".vehicle-name") %>%
html_text2()
all_brands[[i]] <- data
}
brands <- unlist(all_brands)
brands
all_mileages <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".miles-style") %>%
html_text2()
all_mileages[[i]] <- data
}
mileages <- unlist(all_mileages)
mileages
mileages <-
str_remove_all(mileages, " kms") |>  # Remove non-numeric characters
str_remove_all( ",")
mileages
mileages <-
str_remove_all(mileages, " kms") |>  # Remove non-numeric characters
str_remove_all( ",") |>  # Remove non-numeric characters
as.integer()
mileages
all_colors <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".car-info :nth-child(1)") %>%
html_text2()
data <- str_remove_all(data, "\\d{4}")
all_colors[[i]] <- data
}
colors <- unlist(all_colors)
colors
car_df <- tibble(
price = prices,
brands = brands,
mileages = mileages,
colors = colors
)
car_df
#SCRAPING CAR DATA-----------
library(stringr)
library(tidyverse)
library(rvest)
# This is how you get read the HTML into R
url <- "https://www.honeycarsmart.com/index.php/full-inventory"
=======
>>>>>>> 80b5f7ab731c5b021b3030157dc440c3046b6a97
html <- read_html(url)
#number of pages to scrape
num_pages <- 20
#-------------------------------------------------------------------------------
all_prices <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".results") %>%
html_text2()
all_prices[[i]] <- data
}
# Notice that each element of this list contains two additional elements
# ("Monthly payment: $" and $"$), which we want to remove.
all_prices <- lapply(all_prices, function(x) x[grepl("^\\$\\d{1,3},\\d{3}$", x)])
prices <- unlist(all_prices)
as.integer(prices)
prices <- unlist(all_prices)
# Clean up
prices <-
str_remove_all(prices, "[^0-9]") |>  # Remove non-numeric characters
as.integer()
#--------------------------------------------------------------------------------
all_brands <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".vehicle-name") %>%
html_text2()
all_brands[[i]] <- data
}
brands <- unlist(all_brands)
#-------------------------------------------------------------------------------
all_mileages <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".miles-style") %>%
html_text2()
all_mileages[[i]] <- data
}
str_remove_all(mileages, " kms") |>  # Remove non-numeric characters
str_remove_all( ",") |>  # Remove non-numeric characters
as.integer()
mileages <- unlist(all_mileages)
#-------------------------------------------------------------------------------
all_colors <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".car-info :nth-child(1)") %>%
html_text2()
data <- str_remove_all(data, "\\d{4}")
all_colors[[i]] <- data
}
colors <- unlist(all_colors)
#--------------------------------------------------------------------------------
# Put it all in a data frame
car_df <- tibble(
price = prices,
brands = brands,
mileages = mileages,
colors = colors
)
all_prices <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".results") %>%
html_text2()
all_prices[[i]] <- data
}
# Notice that each element of this list contains two additional elements
# ("Monthly payment: $" and $"$), which we want to remove.
all_prices <- lapply(all_prices, function(x) x[grepl("^\\$\\d{1,3},\\d{3}$", x)])
prices <- unlist(all_prices)
prices
prices <-
str_remove_all(prices, "[^0-9]") |>  # Remove non-numeric characters
as.integer()
prices
car_df
# This is how you get read the HTML into R
url <- "https://www.honeycarsmart.com/index.php/full-inventory"
html <- read_html(url)
#number of pages to scrape
num_pages <- 20
#-------------------------------------------------------------------------------
all_prices <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".results") %>%
html_text2()
all_prices[[i]] <- data
}
# Notice that each element of this list contains two additional elements
# ("Monthly payment: $" and $"$), which we want to remove.
all_prices <- lapply(all_prices, function(x) x[grepl("^\\$\\d{1,3},\\d{3}$", x)])
prices <- unlist(all_prices)
# Clean up
prices <-
str_remove_all(prices, "[^0-9]") |>  # Remove non-numeric characters
as.integer()
#--------------------------------------------------------------------------------
all_brands <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".vehicle-name") %>%
html_text2()
all_brands[[i]] <- data
}
brands <- unlist(all_brands)
#-------------------------------------------------------------------------------
all_mileages <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".miles-style") %>%
html_text2()
all_mileages[[i]] <- data
}
str_remove_all(mileages, " kms") |>  # Remove non-numeric characters
str_remove_all( ",") |>  # Remove non-numeric characters
as.integer()
mileages <- unlist(all_mileages)
#-------------------------------------------------------------------------------
all_colors <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".car-info :nth-child(1)") %>%
html_text2()
data <- str_remove_all(data, "\\d{4}")
all_colors[[i]] <- data
}
colors <- unlist(all_colors)
#--------------------------------------------------------------------------------
# Put it all in a data frame
car_df <- tibble(
price = prices,
brands = brands,
mileages = mileages,
colors = colors
)
car_df
#SCRAPING CAR DATA-----------
library(stringr)
library(tidyverse)
library(rvest)
# This is how you get read the HTML into R
url <- "https://www.honeycarsmart.com/index.php/full-inventory"
html <- read_html(url)
#SCRAPING CAR DATA-----------
library(stringr)
library(tidyverse)
library(rvest)
# This is how you get read the HTML into R
url <- "https://www.honeycarsmart.com/index.php/full-inventory"
html <- read_html(url)
#number of pages to scrape
num_pages <- 20
#-------------------------------------------------------------------------------
all_prices <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".results") %>%
html_text2()
all_prices[[i]] <- data
}
# Notice that each element of this list contains two additional elements
# ("Monthly payment: $" and $"$), which we want to remove.
all_prices <- lapply(all_prices, function(x) x[grepl("^\\$\\d{1,3},\\d{3}$", x)])
prices <- unlist(all_prices)
# Clean up
prices <-
str_remove_all(prices, "[^0-9]") |>  # Remove non-numeric characters
as.integer()
#--------------------------------------------------------------------------------
all_brands <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".vehicle-name") %>%
html_text2()
all_brands[[i]] <- data
}
brands <- unlist(all_brands)
#-------------------------------------------------------------------------------
all_mileages <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".miles-style") %>%
html_text2()
all_mileages[[i]] <- data
}
str_remove_all(mileages, " kms") |>  # Remove non-numeric characters
str_remove_all( ",") |>  # Remove non-numeric characters
as.integer()
mileages <- unlist(all_mileages)
#-------------------------------------------------------------------------------
all_colors <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".car-info :nth-child(1)") %>%
html_text2()
data <- str_remove_all(data, "\\d{4}")
all_colors[[i]] <- data
}
colors <- unlist(all_colors)
#--------------------------------------------------------------------------------
# Put it all in a data frame
car_df <- tibble(
price = prices,
brands = brands,
mileages = mileages,
colors = colors
)
car_df
lm(price ~ mileage, data = car_df)
lm(price ~ mileages, data = car_df)
model <- lm(price ~ mileages, data = car_df)
summary(model)
arrange(.data = car_df, mileages)
all_mileages <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".miles-style") %>%
html_text2()
all_mileages[[i]] <- data
}
mileages <- unlist(all_mileages)
str_remove_all(mileages, " kms") |>  # Remove non-numeric characters
str_remove_all( ",") |>  # Remove non-numeric characters
as.integer()
mileages <-
str_remove_all(mileages, " kms") |>  # Remove non-numeric characters
str_remove_all( ",") |>  # Remove non-numeric characters
as.integer()
mileages
## Put it all in a data frame
car_df <- tibble(
price = prices,
brands = brands,
mileages = mileages,
colors = colors
)
arrange(.data = car_df, mileages)
mileages
car_df
arrange(.data = car_df, mileages)
model
str(model)
car_df$mileages
?lm
lm(price ~ mileages, data = car_df)
lm(price ~ brands, data = car_df)
lm(price ~ brands, data = car_df)
arrange(.data = car_df, brands)
print(n = 100)
`print(n = 100)
`print(n = 100)`
`print(n = 100)`
arrange(.data = car_df, brands, mileages)
n = 100
# Linear regression predicting price based on mileage
lm(price ~ mileages, data = car_df)
lm(price ~ brands, data = car_df)
car_df
arrange(.data = car_df, price)
lm(price ~ brands, data = car_df)
write_csv(car_df, file = "car_df.csv")
all_brands <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".vehicle-name") %>%
html_text2()
all_brands[[i]] <- data
}
brands <- unlist(all_brands)
all_brands <- list()
all_years <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".vehicle-name") %>%
html_text2()
years <- str_extract(data, "\\b\\d{4}\\b")  # This captures the year
all_years[[i]] <- years
brands <- str_remove(data, "\\b\\d{4}\\b")  # This removes the year
all_brands[[i]] <- str_trim(brands)  # Trim any extra spaces
brands <- unlist(all_brands)
years <- unlist(all_years)
source("~/GitHub/labs-grp-mathletes/car_bn.R", echo=TRUE)
years <- as.integer(years)
all_brands <- list()
all_years <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".vehicle-name") %>%
html_text2()
# Extract years (4-digit numbers)
years <- str_extract(data, "\\b\\d{4}\\b")  # This captures the year
all_years[[i]] <- years
# Remove the year from the brand names
brands <- str_remove(data, "\\b\\d{4}\\b")  # This removes the year
all_brands[[i]] <- str_trim(brands)  # Trim any extra spaces
}
# Unlist the results
brands <- unlist(all_brands)
years <- unlist(all_years)
# Convert years to integer
years <- as.integer(years)
years
brands
car_df <- tibble(
price = prices,
brands = brands,
mileages = mileages,
colors = colors,
year = years
)
car_df
write_csv(car_df, file = "car_df.csv")
plot <- ggplot(summary_df, aes(x = news_frequency, y = Freq, fill = plastic_reduction_agreement)) +
geom_bar(stat = 'identity', position = 'dodge') +
labs(title = 'Engagement in Plastic Reduction by News Exposure',
x = 'Frequency of Keeping Up with Environmental News',
y = 'Number of Participants',
fill = 'Agreement on Plastic Reduction') +
theme_minimal()
library(ggplot2)
# Create a bar plot to visualize the relationship
plot <- ggplot(summary_df, aes(x = news_frequency, y = Freq, fill = plastic_reduction_agreement)) +
geom_bar(stat = 'identity', position = 'dodge') +
labs(title = 'Engagement in Plastic Reduction by News Exposure',
x = 'Frequency of Keeping Up with Environmental News',
y = 'Number of Participants',
fill = 'Agreement on Plastic Reduction') +
theme_minimal()
<<<<<<< HEAD
install.packages("readxl")
library(readxl)
library(readxl)
download.file("https://ubdedubn-my.sharepoint.com/:x:/g/personal/23b9016_ubd_edu_bn/EY9-zMHUzG9JsKW8BuFf4poBj7D9lpzUHA8DHJR2-Ylosw?rtime=5AaSLFby3Eg", mode = "wb")
library(readxl)
car_df <- read_excel("car_df.xlsx")
View(car_df)
readxl(car_df)
read.csv(car_df)
#---------------------------------------------------------------------
#
read_excel("car_df.xlsx")
car_df <- read_excel("car_df.xlsx")
write.csv(car_df, "car_df.csv")
car_df
car <- write.csv(car_df, "car_df.csv")
car
car_df
git status
git status
=======
file.rename("24b2025.R", "MainWork.R")
car_df <- read_excel("car_df.xlsx")
library(readxl)
car_df <- read_excel("car_df.xlsx")
View(car_df)
car_df
lm(price ~ mileages, data = car_df)
lm(price ~ brands, data = car_df)
library(tidyverse)
library(stringr)
library(rvest)
# This is how you get read the HTML into R
url <- "https://www.honeycarsmart.com/index.php/full-inventory"
html <- read_html(url)
#number of pages to scrape
num_pages <- 20
#-------------------------------------------------------------------------------
all_prices <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".results") %>%
html_text2()
all_prices[[i]] <- data
}
# Notice that each element of this list contains two additional elements
# ("Monthly payment: $" and $"$), which we want to remove.
all_prices <- lapply(all_prices, function(x) x[grepl("^\\$\\d{1,3},\\d{3}$", x)])
prices <- unlist(all_prices)
# Clean up
prices <-
str_remove_all(prices, "[^0-9]") |>  # Remove non-numeric characters
as.integer()
#--------------------------------------------------------------------------------
# Initialize lists for brands and years
all_brands <- list()
all_years <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".vehicle-name") %>%
html_text2()
# Extract years (4-digit numbers)
years <- str_extract(data, "\\b\\d{4}\\b")  # This captures the year
all_years[[i]] <- years
# Remove the year from the brand names
brands <- str_remove(data, "\\b\\d{4}\\b")  # This removes the year
all_brands[[i]] <- str_trim(brands)  # Trim any extra spaces
}
# Unlist the results
brands <- unlist(all_brands)
years <- unlist(all_years)
# Convert years to integer
years <- as.integer(years)
#-------------------------------------------------------------------------------
all_mileages <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".miles-style") %>%
html_text2()
all_mileages[[i]] <- data
}
mileages <- unlist(all_mileages)
# Clean up
mileages <-
str_remove_all(mileages, " kms") |>  # Remove non-numeric characters
str_remove_all( ",") |>  # Remove non-numeric characters
as.integer()
#--------------------------------------------------------------------------------
all_colors <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".car-info :nth-child(1)") %>%
html_text2()
data <- str_remove_all(data, "\\d{4}")
all_colors[[i]] <- data
}
colors <- unlist(all_colors)
#--------------------------------------------------------------------------------
## Put it all in a data frame
car_df <- tibble(
price = prices,
brands = brands,
mileages = mileages,
colors = colors,
year = years
)
write_csv(car_df, file = "car_df.csv")
car_df <- read_excel("car_df.xlsx")
car_df <- read_excel("car_df.xlsx")
library(readxl)
car_df <- read_excel("car_df.xlsx")
lm(price ~ year, data = car_df)
lm(price($) ~ year, data = car_df)
lm(price ~ year, data = car_df)
car_df
prices
model1 <- lm(prices ~ year, data = car_df)
year
all_brands <- list()
all_years <- list()
for (i in 1:num_pages) {
url <- paste0("https://www.honeycarsmart.com/index.php/full-inventory/page/", i)
page <- read_html(url)
data <- page %>%
html_elements(".vehicle-name") %>%
html_text2()
# Extract years (4-digit numbers)
years <- str_extract(data, "\\b\\d{4}\\b")  # This captures the year
all_years[[i]] <- years
# Remove the year from the brand names
brands <- str_remove(data, "\\b\\d{4}\\b")  # This removes the year
all_brands[[i]] <- str_trim(brands)  # Trim any extra spaces
}
# Unlist the results
brands <- unlist(all_brands)
years <- unlist(all_years)
# Convert years to integer
years <- as.integer(years)
years
model1 <- lm(prices ~ year, data = car_df)
lm(prices ~ years, data = car_df)
mileages
model1 <- lm(prices ~ years, data = car_df)
summary(model1)
lm(prices ~ mileages, data = car_df)
continent
library(readxl)
car_df <- read_excel("car_df.xlsx")
car_df
continent
car_df$CONTINENT
lm(prices ~ continent, data = car_df)
lm(prices ~ car_df$continent, data = car_df)
lm(prices ~ , data = car_df)
continent <- car_df$CONTINENT
continent
lm(prices ~ continent, data = car_df)
model_2 <- lm(prices ~ mileages, data = car_df)
model_2
model_1 <- lm(prices ~ years, data = car_df)
model_3 <- lm(prices ~ continent, data = car_df)
>>>>>>> 80b5f7ab731c5b021b3030157dc440c3046b6a97
